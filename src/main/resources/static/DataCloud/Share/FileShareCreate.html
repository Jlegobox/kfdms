<!DOCTYPE html>
<html class="x-admin-sm">

<head>
    <meta charset="UTF-8">
    <title>创建分享链接</title>
    <meta name="renderer" content="webkit">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <link rel="stylesheet" href="../../css/font.css">
    <link rel="stylesheet" href="../../css/xadmin.css">
    <script type="text/javascript" src="https://cdn.bootcss.com/jquery/3.2.1/jquery.min.js"></script>
    <script type="text/javascript" src="../../lib/layui/layui.js" charset="utf-8"></script>
    <script type="text/javascript" src="../../js/xadmin.js"></script>
    <script type="text/javascript" src="../../js/cookie.js"></script>
    <!-- 让IE8/9支持媒体查询，从而兼容栅格 -->
    <!--[if lt IE 9]>
    <script src="https://cdn.staticfile.org/html5shiv/r29/html5.min.js"></script>
    <script src="https://cdn.staticfile.org/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
    <script type="text/javascript" src="../../js/datacloud/datacloud.js"></script>
</head>

<body>

<div class="x-body">
    <form id="fileShareLinkInfo" class="layui-form" style="display: block">
<!--        <div class="layui-form-item layui-bg-gray" style="height:40px;font-size: 18px">-->
<!--            <div class="layui-form-text" style="padding: 10px">-->
<!--                <span>分享文件：</span>-->
<!--                <span id="shareFileName">出错</span>-->
<!--            </div>-->
<!--        </div>-->
        <div class="layui-form-item">
            <label for="accessCodeTypeSelect" class="layui-form-label">
                分享类型
            </label>
            <div id="accessCodeTypeSelect">
                <div id="randAccessCodeDiv">
                <input id="randAccessCode" type="radio" name="accessCodeType" value="0" title="系统随机生成提取码" checked>
                </div>
                <div id="customAccessCodeDiv">
                <input id="customAccessCode" type="radio" name="accessCodeType" value="1" title="自定义提取码">
                </div>
                <div id="customAccessCodeStrDiv" class="layui-input-block" style="display: none">
                    <input id="customAccessCodeStr" type="text" style="width: 120px;height:20px; margin: 0 auto" placeholder="请输入四位字母或数字">
                </div>
            </div>
        </div>
        <div class="layui-form-item">
            <label for="visitLimitSelect" class="layui-form-label">访问人数</label>
            <div id="visitLimitSelect">
                <div id="unLimitDiv">
                    <input id="unLimit" type="radio" name="visitLimitType" value="0" title="无限制" checked="">
                </div>
                <div id="limitDiv">
                    <input id="limit" type="radio" name="visitLimitType" value="1" title="限制访问人数" >
                </div>
                <div id="limitNumDiv" class="layui-input-block" style="display: none">
                    <input id="limitNum" type="text" style="width: 120px;height:20px; margin: 0 auto" placeholder="请输入0-10的整数">
                </div>
            </div>
        </div>
        <div class="layui-form-item">
            <label for="validTimeSelect" class="layui-form-label">有效期</label>
            <div id="validTimeSelect">
                <span>
                    <input id="permanent" type="radio" name="validTime" value="-1" title="永久有效" checked>
                </span>
                <span>
                    <input id="sevenDay" type="radio" name="validTime" value="7" title="七天">
                </span>
                <span>
                    <input id="oneDay" type="radio" name="validTime" value="1" title="一天">
                </span>
            </div>
        </div>
        <div class="layui-form-item" >
            <div class="layui-input-block">
                <button id="createShareLinkBtn" type="button" class="layui-btn">创建链接</button>
                <button type="button" class="layui-btn layui-btn-primary" onclick="datacloud_close_refresh()">关闭</button>
            </div>
        </div>
    </form>


    <form id="createSuccessForm" class="layui-form" style="display: none;margin: 0 auto">
        <div class="layui-form-item">
            <h3><b>分享链接创建成功！</b></h3>
            <span>链接和提取码已复制，分享给你的朋友吧</span>
        </div>
        <div class="layui-form-item">
            <label for="shareLink" class="layui-form-label" style="padding: 3px">
                链接：
            </label>
            <div id="shareLink" class="layui-input-inline">
                <input id="shareLinkStr" class="layui-input" type="text" value="" readonly="readonly" style="width: 240px">
            </div>
        </div>
        <div class="layui-form-item">
            <label for="accessCode" class="layui-form-label" style="padding: 3px">
                提取码：
            </label>
            <div id="accessCode" class="layui-input-inline">
                <input id="accessCodeStr" class="layui-input" type="text" value="" readonly="readonly" style="width: 60px">
            </div>
        </div>
        <div class="layui-form-item" >
            <div class="layui-input-block">
                <button type="button" class="layui-btn layui-btn-normal" onclick="copyShareLink()">复制链接及提取码</button>
                <button type="button" class="layui-btn layui-btn-primary" onclick="datacloud_close_refresh()">关闭</button>
            </div>
        </div>

    </form>
</div>
<script>
    initFileShareCreateHtml();
</script>
</body>

</html>